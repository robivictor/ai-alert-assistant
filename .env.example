# AI DBA Assistant Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# MODEL CONFIGURATION
# ============================================================================
MODEL_TYPE=openai  # Options: openai, ollama
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini  # Options: gpt-4o, gpt-4o-mini, gpt-4-turbo

# Alternative: Ollama Configuration (for local models)
# MODEL_TYPE=ollama
# OLLAMA_MODEL=llama3.1:8b
# OLLAMA_BASE_URL=http://localhost:11434

# ============================================================================
# ATLASSIAN/CONFLUENCE CONFIGURATION
# ============================================================================
# Generate API token at: https://id.atlassian.com/manage-profile/security/api-tokens

# Method 1: API Token Authentication (Recommended)
CONFLUENCE_URL=https://your-company.atlassian.net/wiki
CONFLUENCE_USERNAME=dba-bot@company.com
CONFLUENCE_API_TOKEN=ATATT3xFfGF0your_confluence_api_token_here

# Method 2: OAuth 2.0 (Alternative - uncomment if using OAuth)
# ATLASSIAN_OAUTH_ACCESS_TOKEN=your_oauth_access_token

# Confluence Settings
CONFLUENCE_SPACE_KEY=DBA  # Default space for database documentation
CONFLUENCE_SSL_VERIFY=true
# CONFLUENCE_CUSTOM_HEADERS=X-Forwarded-For=internal

# Optional: Jira Configuration (for incident management)
JIRA_URL=https://your-company.atlassian.net
JIRA_USERNAME=dba-bot@company.com
JIRA_API_TOKEN=ATATT3xFfGF0your_jira_api_token_here

# MCP Debug settings
MCP_VERY_VERBOSE=false
MCP_LOGGING_STDOUT=false

# ============================================================================
# DATABASE CONFIGURATION (for alarm monitoring)
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=monitoring
DB_USER=dba_monitoring
DB_PASSWORD=secure_monitoring_password_here
DB_SSL_MODE=require

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
DEBUG=false
ENVIRONMENT=production  # Options: development, staging, production

# Application behavior
AUTO_ESCALATE_CRITICAL=true
ESCALATION_TIMEOUT_MINUTES=15
MAX_CONCURRENT_ANALYSES=3

# ============================================================================
# NOTIFICATION CONFIGURATION
# ============================================================================
# Email Configuration (for notifications and escalations)
SMTP_HOST=smtp.company.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=dba-alerts@company.com
SMTP_PASSWORD=your_smtp_password_here

# Notification recipients
DBA_ONCALL_EMAIL=oncall-dba@company.com
DBA_TEAM_EMAIL=dba-team@company.com
ESCALATION_EMAIL=critical-alerts@company.com

# Slack Integration (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
# SLACK_CHANNEL=#database-alerts

# ============================================================================
# SECURITY & COMPLIANCE
# ============================================================================
# API rate limiting
API_RATE_LIMIT_PER_MINUTE=60
API_RATE_LIMIT_BURST=10

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_FILE=/var/log/ai-dba/audit.log

# Data retention (days)
LOG_RETENTION_DAYS=90
ANALYSIS_HISTORY_RETENTION_DAYS=365